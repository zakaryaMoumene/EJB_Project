<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:include src="/navigationBar.xhtml" />

<h:head>
	<link href='https://fonts.googleapis.com/css?family=Titillium+Web:400,300,600' rel='stylesheet' type='text/css'/>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css"/>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
</h:head>

<h:body>

<h:outputStylesheet library="css" name="style.css" />
	<div class="body2"></div>
      <div id="container">
         <h1>Formulaire de recherche</h1>
		<h:form id="searchForm">
			<p:growl id="msgs" showDetail="true" />
			<h:panelGrid columns="5" >
							<p:inputText placeholder="Prénom" value="#{cvController.searchParams[0]}"><p:ajax event="keyup"/></p:inputText>
							<p:inputText placeholder="Nom" value="#{cvController.searchParams[1]}" ><p:ajax event="keyup"/></p:inputText>
							<p:inputText placeholder="Email" value="#{cvController.searchParams[2]}" ><p:ajax event="keyup"/></p:inputText>
							<p:inputText placeholder="Titre d'une activité" value="#{cvController.searchParams[3]}" ><p:ajax event="keyup"/></p:inputText>
							<p:inputText placeholder="Année d'une activité" value="#{cvController.searchParams[4]}"><p:ajax event="keyup"/></p:inputText>
			</h:panelGrid>
<br/> <br/>
			<p:commandLink id = "form_button" action="#{cvController.search}" style="float:right;margin-right:47%;margin-top:-2%;"
				ajax="true" process="@this" update=":result:persons" class="w3-bar-item w3-button w3-hide-small"><i class="fa fa-search"> GO</i>
				</p:commandLink>
		</h:form>
		 <h:form id="result" style="margin-top:-3%;">
    <p:dataGrid var="person" value="#{cvController.searchResult}" columns="3" layout="grid"
        rows="3" paginator="true" id="persons"
        paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
        >
 
        <f:facet name="header">
            <h2 style="text-align:center">Resultats</h2>
        </f:facet>
 
        <p:panel header="#{person.firstName} #{person.lastName}" style="text-align:center">
            <h:panelGrid columns="1" style="width:100%">
                        <h:link outcome="cvDisplay" >
			    <f:param name="id" value="#{person.id}" />
			    <img src="https://image.freepik.com/free-icon/user-warning_318-55040.jpg" alt="Picture not found" height="100" width="100" style="margin-left:25%;"/>
			</h:link>
            </h:panelGrid>
        </p:panel>
 
    </p:dataGrid>
</h:form>
	</div>
</h:body>
</html>